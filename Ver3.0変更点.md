Ver 3.0 変更点
========================================

ターゲットフレームワークと言語バージョン
----------------------------------------

- TargetFramework
    - ```.netstandard2.0```
        - ```Ver1.X``` と比較して ```.netcoreapp3.0``` および ```.netframework461``` が非ターゲット化
        - ```Ver2.X``` と比較して ```.netstandard``` がバージョンダウン

- langversion
    - ```9.0```

ライブラリとしての機能
----------------------------------------

- ウディタVer3への対応


共通部分（WodiLib.Sys）
----------------------------------------

- 単一の要素からなる不変なオブジェクト（値オブジェクト）を ```class``` 型に統一。複数の要素からなる不変なオブジェクト（値オブジェクト）を ```record``` 型に統一。
    - ```Ver 2.X``` 以前で ```struct``` 定義されていた値オブジェクトが影響を受ける。
    - 演算子や ```Equals``` の実装には変化なし。

- ```ISerializable``` インタフェースを除去、 ```SerializableAttribute``` 付与を取りやめ。
    - ```.NET 5``` にて ```BinaryFormatter``` が非推奨となったため。

- ```JsonSerialize``` 対応。

- ```ModelBase``` （可変クラス）
    - ```IEquatable<T>``` を除去、 ```==``` および ```!=``` 演算子のオーバーロードを解除。
        - デフォルトの参照型の動作と異なるため。（```List<T>.IndexOf``` などでこの影響を受けるため）
    - ```IEquatable<T>``` の代替機能として ```IEqualityComparable<T>``` インタフェースおよび ```bool ItemEquals(T)``` メソッドを新規実装。これまでの ```IEquatable<T>.Equals(T)``` メソッド同様モデルクラスの同値比較を行い結果を返す。
    - ディープコピーできることを示す ```IDeepCloneable<T>``` インタフェース、およびディープコピー用のメソッド ```DeepClone()``` を新規追加。
        - このメソッドで作成したコピーインスタンスはすべての参照がディープコピーされる。
    - モデルクラスのバイナリデータ化メソッド（```ToBinary()```等）をライブラリ内部に隠蔽。
    - モデルクラスのプロパティ（状態）のみをまとめたインタフェースと、そのインタフェースの実装クラス（record）を定義。
      - このインタフェースは主に別モデルクラスのメソッド引数に利用する。

リスト周りの機能改修
----------------------------------------

- コレクション変更通知
    - 範囲操作メソッド（`AddRange`, `InsertRange`, `Overwrite`, `MoveRange`, `RemoveRange`, `Clear`）実行時の通知を一括で行っている既存の処理を廃し、~~1要素~~ 1アクション ごとに通知を行うよう変更する。
      - 標準APIの挙動に則るため。
      - 範囲操作メソッドは従来どおり利用できるようにする。

データベース周りの機能改修
----------------------------------------

- モデルクラスの構造変更
    - ```Ver 2.X``` 以前ではウディタが出力するバイナリデータを基準とした構造であるが、ウディタ上で見えるような状態を基準とした構造に変更
    - 従来どおりバイナリデータを基準とした構造も極力残す。
